/* style.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------- DEFINICIÓN DE TEMAS (NIVEL SUPERIOR) ---------- */
/* Al mover esto fuera de @layer, nos aseguramos de que las variables
   estén siempre disponibles para las utilidades de Tailwind. */
.theme-estudiante {
  --color-primary: 13 148 136;      /* #0d9488 - teal-600 */
  --color-primary-light: 45 212 191;/* #2dd4bf - teal-400 */
  --color-primary-dark: 15 118 110; /* #0f766e - teal-700 */
}

.theme-docente {
  --color-primary: 37 99 235;       /* #2563eb - blue-600 */
  --color-primary-light: 59 130 246; /* #3b82f6 - blue-500 */
  --color-primary-dark: 29 78 216;  /* #1e40af - blue-700 */
}

.theme-bedel {
  --color-primary: 147 51 234;     /* #9333ea - purple-600 */
  --color-primary-light: 168 85 247;/* #a855f7 - purple-500 */
  --color-primary-dark: 126 34 206;/* #7e22ce - purple-700 */
}

.theme-admin {
  --color-primary: 244 63 94;       /* #f43f5e - rose-500 */
  --color-primary-light: 248 113 113;/* #f87171 - rose-400 */
  --color-primary-dark: 190 18 60;  /* #be123c - rose-700 */
}

@layer base {
  body {
    @apply font-sans bg-stone-50 text-stone-800;
  }
}

/* COMPONENTS (Ahora son genéricos y reusables) */
@layer components {

  /* Tipografía estandar (sin cambios) */
  h2 { @apply text-2xl font-semibold text-stone-800; }
  h4 { @apply text-lg font-medium text-stone-700; }
  .text-muted { @apply text-sm text-stone-500; }

  /* ---------- INPUT BASE (Simplificado) ---------- */
  .form-input {
    @apply mt-1 block w-full rounded-md border border-stone-300
           px-3 py-2 text-sm focus:outline-none focus:ring-1
           focus:border-primary focus:ring-primary; /* ¡Usa el color primario del tema! */
  }
  /* Las variantes de estado se mantienen */
  .form-input--danger { @apply border-red-500 focus:border-red-600 focus:ring-red-600; }
  .form-input--info   { @apply border-sky-400 focus:border-sky-500 focus:ring-sky-500; }

  /* ---------- CHECKBOX BASE ---------- */
  .form-checkbox {
    @apply w-4 h-4 rounded border-stone-300 text-primary 
          focus:ring-2 focus:ring-primary focus:ring-offset-2
          focus:outline-none transition-colors cursor-pointer;
  }

  .form-checkbox--error {
    @apply border-red-500 text-red-600 focus:ring-red-500 focus:ring-offset-red-50;
  }

  .form-checkbox--disabled {
    @apply opacity-50 cursor-not-allowed;
  }
  /* ---------- BOTON BASE (Simplificado) ---------- */
  .btn {
    @apply inline-flex items-center justify-center rounded-md px-2
           text-xs py-2 text-sm font-medium
           focus:outline-none focus:ring-2 transition-colors;
  }

  /* Botón principal (UNA SOLA DEFINICIÓN) */
  .btn-primary {
    @apply bg-primary text-white 
           hover:bg-primary-light 
           focus:ring-1 focus:ring-primary-light focus:bg-primary-light;
  }

  /* Botón secundario (UNA SOLA DEFINICIÓN) */
  .btn-secondary {
    @apply border border-primary text-primary bg-white
        hover:bg-primary-light/20 hover:text-primary
        focus:ring-primary;
  }
  /* Botón link (UNA SOLA DEFINICIÓN) */
  .btn-link {
    @apply text-xs font-medium rounded-sm mx-2
         text-stone-600 transition-colors     
         hover:text-primary hover:underline underline-offset-4
         focus:outline-none focus:ring-2 focus:ring-primary-light;
  }
  /* Botón minimo */
  .btn-min {
    @apply text-xs transition-colors
         hover:text-primary-light hover:underline underline-offset-4
         focus:text-primary focus:underline underline-offset-4 focus:outline-none;
        
  }
  /* Botón para la barra de navegación (NUEVO) */
  .btn-nav {
    @apply bg-transparent text-white rounded-md px-3 py-2 text-sm font-medium
           hover:bg-primary transition-colors
           focus:outline-none focus:ring-2 focus:ring-primary-light;
  }

  /* ... el resto de tus componentes ... */
  .alert { @apply rounded-md px-4 py-2 text-sm; }
  .alert-danger { @apply bg-red-50 text-red-700 border border-red-100; }
  .alert-info   { @apply bg-sky-50 text-sky-700 border border-sky-100; }
  .form-label { @apply block text-sm font-medium text-stone-600 mb-1; }
  .form-error { @apply text-sm text-red-600 mt-1; }

  /* ---------- CARD (NUEVO) ---------- */
  /* Clase base para todas las tarjetas */
  .card {
    @apply bg-white rounded-lg shadow-md p-6;
  }

  /* Modificador para tarjetas con efecto hover */
  .card-interactive {
    @apply transition-all duration-300 hover:-translate-y-1 hover:shadow-lg;
  }

  /* Encabezado estandarizado para tarjetas */
  .card-header {
    @apply flex items-center mb-4 text-lg font-bold text-stone-800;
  }

  /* Elemento individual dentro de una tarjeta (ej. materia aprobada) */
  .card-item {
    @apply bg-stone-100 rounded-lg p-4;
  }

  /* ---------- DROPDOWN (NUEVO) ---------- */
  /* Elemento de un menú desplegable */
  .dropdown-item {
    @apply block w-full text-left px-4 py-2 text-sm text-stone-800
           hover:bg-primary hover:text-white transition-colors
           focus:outline-none focus:bg-primary focus:text-white;
  }

  /* Variante destructiva para un elemento de dropdown */
  .dropdown-item-danger {
    @apply text-red-700 hover:bg-red-600 hover:text-white focus:bg-red-600 focus:text-white;
  }

}

/* Clases reutilizables para componentes */

/* Botón de icono - usado para acciones individuales como copiar, imprimir, cerrar */
.btn-icon {
  @apply text-stone-500 hover:text-stone-700 focus:outline-none focus:ring-2 focus:ring-primary rounded-full p-1;
}

/* Estilos para el contenido de detalles de materia */
.detalle-materia-content {
  @apply space-y-4;
}

.detalle-materia-correlativas {
  @apply mt-4;
}

.detalle-materia-equivalencia {
  @apply mt-4;
}


/* ============== ESTILOS DE IMPRESIÓN ============== */
@media print {
  /*
    Cuando el body tiene la clase 'is-printing', ocultamos todo con 'visibility'.
    Esto es más robusto que 'display: none' para este caso de uso.
  */
  body.is-printing * {
    visibility: hidden;
  }

  /*
    Luego, hacemos visible solo el elemento que queremos imprimir y sus hijos.
  */
  body.is-printing .print-isolate,
  body.is-printing .print-isolate * {
    visibility: visible;
  }
  
  /*
    El elemento a imprimir se posiciona al inicio de la página y se le permite
    crecer verticalmente según su contenido, evitando páginas en blanco.
  */
  body.is-printing .print-isolate {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: auto !important; /* Clave: previene páginas extra */
    box-shadow: none !important;
    border: none !important;
    border-radius: 0 !important;
    overflow: visible !important;
  }

  /* Clases de utilidad que siempre deben funcionar en impresión */
  .no-print {
    display: none !important;
  }

  .print-content {
    padding: 1.5cm;
    background: white !important;
    color: black !important;
    font-size: 12pt;
  }
  
  .print-avoid-break {
    break-inside: avoid;
    page-break-inside: avoid;
  }

  .print-footer {
    position: fixed;
    bottom: 0;
    left: 1.5cm;
    right: 1.5cm;
    width: auto;
    text-align: center;
    font-size: 10pt;
    color: #666;
    border-top: 1px solid #ccc;
    padding-top: 5px;
  }
  
  a {
    text-decoration: none;
    color: inherit;
  }

  .bg-stone-50 {
    background: white !important;
  }
}

@page {
  size: A4;
  margin: 1.5cm; /* Márgenes de página para impresión */
}